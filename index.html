<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Identity Anchor Protocol (IAP) Registry: a Certificate Authority issuing Identity Anchor, Continuity, and Lineage certificates for autonomous agents—cryptographically verifiable offline."
    />
    <title>IAP Registry | Identity Anchor Protocol</title>
    <meta name="registry-origin" content="https://registry.ia-protocol.com" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <a class="skip-link" href="#main">Skip to content</a>

    <header class="site-header" aria-label="Site header">
      <div class="container header-row">
        <p class="brand">Identity Anchor Protocol Registry</p>
        <nav aria-label="Primary">
          <ul class="nav-list">
            <li><a href="#overview">Overview</a></li>
            <li><a href="#how">How It Works</a></li>
            <li><a href="#cases">Case Studies</a></li>
            <li><a href="#quickstart">Quickstart</a></li>
            <li><a href="#registry-public-key">Public Key</a></li>
            <li><a href="#trust">Trust & Security</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <main id="main">
      <!-- HERO -->
      <section class="hero" aria-labelledby="hero-title">
        <div class="container hero-grid">
          <div class="hero-copy">
            <p class="eyebrow">Agent Web Infrastructure</p>
            <h1 id="hero-title">
              Identity & Continuity
              <span>for Persistent Autonomous Agents</span>
            </h1>
            <p class="hero-subhead">
              Prove that the same cryptographic agent identity made specific commitments at specific times — across restarts, upgrades, migrations, and forks.
            </p>
            <p class="hero-subhead">
              Whenever an autonomous agent accumulates value over time, continuity becomes essential.
            </p>

            <p class="disclaimer">
              IAP verifies <strong>identity</strong>, <strong>declared lineage</strong>, and a <strong>time-sequenced chain of signed commitments</strong> (often hashes of internal state). It does <em>not</em> verify behavior, semantic correctness, or prevent runtime compromise.
            </p>

            <div class="hero-actions">
              <a class="btn btn-primary" href="#quickstart">Get Started in 10 Minutes</a>
              <a class="btn btn-secondary" href="https://identity-anchor-protocol.github.io/iap-spec/spec/v0.1/" target="_blank" rel="noopener noreferrer">
                Protocol Spec (v0.1)
              </a>
            </div>
          </div>

          <aside class="status-card" aria-label="Registry status">
            <h2>Registry Status</h2>
            <p id="status-badge" class="status status-ok">Operational</p>
            <p class="status-note">
              Public key and certificates verifiable offline.
            </p>
          </aside>
        </div>
      </section>

      <!-- OVERVIEW -->
      <section id="overview" class="section section-alt">
        <div class="container">
          <h2>The Agent Web Is Forming</h2>
          <p>
            Payments. Search. Execution. Structured content.
            Agent infrastructure is already in production.
          </p>
          <p>
            But one primitive is still missing:
            <strong>verifiable identity continuity.</strong>
          </p>
          <p>
            Without continuity, agents cannot accumulate durable economic,
            structural, or intellectual credibility.
          </p>
        </div>
      </section>

      <!-- HOW IT WORKS -->
      <section id="how" class="section">
        <div class="container">
          <h2>Minimal Universal Primitive</h2>
          <div class="flow" aria-label="IAP certificate flow">
            <div class="flow-box">
              <h3>Identity Anchor</h3>
              <p>Create a verifiable identity anchor for an agent key.</p>
            </div>
            <div class="flow-arrow">→</div>
            <div class="flow-box">
              <h3>Continuity</h3>
              <p>Attest time-sequenced continuity commitments over time.</p>
            </div>
            <div class="flow-arrow">→</div>
            <div class="flow-box">
              <h3>Lineage</h3>
              <p>Declare derivation relationships across forks or identity succession.</p>
            </div>
          </div>
        </div>
      </section>

      <!-- CASE STUDIES -->
      <section id="cases" class="section section-alt">
        <div class="container">
          <h2>Case Studies</h2>

          <div class="tiles" aria-label="Case study tiles">
            <a class="tile" href="/cases/atlas.html">
              <h3>Atlas</h3>
              <p class="tile-sub">Financial Continuity</p>
              <p>Identity and checkpoint continuity for economic agents operating over long horizons.</p>
            <span class="tile-cta" aria-hidden="true">Read case study →</span></a>

            <a class="tile" href="/cases/olympia.html">
              <h3>Olympia</h3>
              <p class="tile-sub">Multi-Agent Coordination</p>
              <p>Continuity commitments for coordinator agents evolving across deployments and upgrades.</p>
            <span class="tile-cta" aria-hidden="true">Read case study →</span></a>

            <a class="tile" href="/cases/eric.html">
              <h3>Eric</h3>
              <p class="tile-sub">Research Provenance</p>
              <p>Time-stamped provenance for research checkpoints and long-running computational work.</p>
            <span class="tile-cta" aria-hidden="true">Read case study →</span></a>

            <a class="tile" href="/cases/vera.html">
              <h3>Vera</h3>
              <p class="tile-sub">Configuration Commitments</p>
              <p>Detectable declared configuration drift via hash commitments anchored over time.</p>
            <span class="tile-cta" aria-hidden="true">Read case study →</span></a>
          </div>
        </div>
      </section>

      <!-- QUICKSTART -->
      <section id="quickstart" class="section">
        <div class="container">
          <h2>Quickstart</h2>
          <p>Issue your first continuity certificate in under 10 minutes.</p>
          <pre class="code-block"><code>pip install iap-agent
iap-agent init
iap-agent anchor issue
iap-agent flow run
iap-agent verify certificate.json</code></pre>
        </div>
      </section>

      <!-- PRICING -->
      <section class="section section-alt" aria-labelledby="pricing-title">
        <div class="container">
          <h2 id="pricing-title">Pricing (Public Beta)</h2>

          <div class="pricing-grid">
            <div class="price-card">
              <h3>Identity Anchor</h3>
              <p class="price">$8</p>
              <p>Create a verifiable identity anchor for your agent.</p>
            </div>

            <div class="price-card">
              <h3>Continuity Certificate</h3>
              <p class="price">$4</p>
              <p>Attest verifiable continuity commitments over time.</p>
            </div>

            <div class="price-card">
              <h3>Lineage Certificate</h3>
              <p class="price">$4</p>
              <p>Declare derivation relationships across forks.</p>
            </div>
          </div>

          <p class="note">
            First Identity Anchor and first 10 Continuity Certificates are free during beta.
            Anchoring cadence is application-defined.
          </p>
        </div>
      </section>

      <!-- PUBLIC KEY -->
      <section id="registry-public-key" class="section" aria-labelledby="pk-title">
        <div class="container">
          <h2 id="pk-title">Registry Public Key</h2>
          <p>
            Certificates can be verified offline using the Registry public key.
          </p>

          <div class="kv" aria-label="Registry key/value details">
            <div class="kv-row">
              <div class="kv-key">Registry ID</div>
              <div class="kv-val mono" id="registry-id">loading…</div>
            </div>
            <div class="kv-row">
              <div class="kv-key">Protocol Version</div>
              <div class="kv-val mono" id="protocol-version">loading…</div>
            </div>
            <div class="kv-row">
              <div class="kv-key">Public Key (base64)</div>
              <div class="kv-val mono" id="registry-public-key-b64">loading…</div>
            </div>
          </div>
        </div>
      </section>

      <!-- TRUST & SECURITY -->
      <section id="trust" class="section section-alt" aria-labelledby="trust-title">
        <div class="container">
          <h2 id="trust-title">Trust & Security</h2>
          <ul class="trust-list">
            <li><strong>Offline verification:</strong> verify certificate signatures without contacting the Registry.</li>
            <li><strong>Minimal surface:</strong> identity, continuity, lineage—no governance or behavioral scoring.</li>
            <li><strong>Explicit boundaries:</strong> IAP attests commitments; it does not guarantee semantic truth or runtime integrity.</li>
            <li><strong>Deterministic encoding:</strong> canonical JSON + Ed25519 signing for stable verification.</li>
          </ul>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <div class="container footer-row">
        <div>
          <p class="footer-title">Identity Anchor Protocol</p>
          <p class="footer-meta">Registry Version: 0.2.0</p>
        </div>
        <ul class="footer-links">
          <li><a href="https://github.com/dirkm2577" rel="noopener noreferrer">GitHub</a></li>
          <li>
            <a href="https://github.com/identity-anchor-protocol/iap-spec" rel="noopener noreferrer">Spec Repo</a>
          </li>
          <li><a href="mailto:admin@ia-protocol.com">admin@ia-protocol.com</a></li>
        </ul>
      </div>
    </footer>

    <script>
      (function () {
        var statusEl = document.getElementById("status-badge");
        var registryIdEl = document.getElementById("registry-id");
        var protocolEl = document.getElementById("protocol-version");
        var publicKeyEl = document.getElementById("registry-public-key-b64");
        var registryOriginMeta = document.querySelector('meta[name="registry-origin"]');
        var registryOrigin = registryOriginMeta ? registryOriginMeta.content : "";

        function requestJSON(path, onSuccess, onFail) {
          fetch(registryOrigin + path, { method: "GET", headers: { Accept: "application/json" } })
            .then(function (res) {
              if (!res.ok) throw new Error("HTTP " + res.status);
              return res.json();
            })
            .then(onSuccess)
            .catch(onFail);
        }

        requestJSON(
          "/health",
          function (data) {
            if (data && data.status === "ok") {
              statusEl.textContent = "Registry Online";
              statusEl.className = "status status-ok";
            } else {
              statusEl.textContent = "Degraded";
              statusEl.className = "status status-warn";
            }
          },
          function () {
            statusEl.textContent = "Operational";
            statusEl.className = "status status-ok";
          }
        );

        requestJSON(
          "/registry/public-key",
          function (data) {
            if (!data) return;
            registryIdEl.textContent = data.registry_id || "unknown";
            protocolEl.textContent = data.protocol_version || "unknown";
            publicKeyEl.textContent = data.public_key_b64 || "unavailable";
          },
          function () {}
        );
      })();
    </script>
  </body>
</html>
